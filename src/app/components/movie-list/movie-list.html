<div class="movie-list-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <!-- Search Bar -->
    <div class="search-section">
      <h3 class="sidebar-title">Search</h3>
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search movies...</mat-label>
        <input matInput [(ngModel)]="searchQuery" (keyup.enter)="searchMovies()" placeholder="Enter movie title">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
      <button mat-raised-button color="primary" class="search-btn" (click)="searchMovies()">
        Search
      </button>
    </div>

    <!-- Quick Links -->
    <div class="sidebar-section">
      <h3 class="sidebar-title">Quick Links</h3>
      <nav class="sidebar-nav">
        <a routerLink="/movies" routerLinkActive="active" class="nav-item">
          <mat-icon>movie</mat-icon>
          <span>All Movies</span>
        </a>
        <a routerLink="/profile" class="nav-item">
          <mat-icon>favorite</mat-icon>
          <span>My Favorites</span>
        </a>
        <a routerLink="/profile" class="nav-item">
          <mat-icon>folder</mat-icon>
          <span>My Folders</span>
        </a>
        <a routerLink="/profile" class="nav-item">
          <mat-icon>rate_review</mat-icon>
          <span>My Reviews</span>
        </a>
      </nav>
    </div>

    <!-- Genre Filter -->
    <div class="sidebar-section">
      <h3 class="sidebar-title">Genres</h3>
      <mat-form-field appearance="outline" class="genre-select">
        <mat-label>Filter by Genre</mat-label>
        <mat-select [(ngModel)]="selectedGenre" (selectionChange)="filterByGenre()">
          <mat-option value="">All Genres</mat-option>
          <mat-option value="28">Action</mat-option>
          <mat-option value="35">Comedy</mat-option>
          <mat-option value="18">Drama</mat-option>
          <mat-option value="27">Horror</mat-option>
          <mat-option value="878">Sci-Fi</mat-option>
          <mat-option value="53">Thriller</mat-option>
          <mat-option value="10749">Romance</mat-option>
          <mat-option value="16">Animation</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Page Header -->
    <div class="page-header">
      <div class="header-content">
        <h1 class="page-title gradient-text">Discover Movies</h1>
        <p class="page-subtitle">Explore thousands of movies and find your next favorite</p>
      </div>
    </div>

    <!-- Filters Section -->
    <div class="filters-section">
      <div class="filter-tabs">
        <button class="filter-tab active" (click)="loadPopularMovies()">
          <mat-icon>trending_up</mat-icon>
          <span>Popular</span>
        </button>
        <button class="filter-tab" (click)="loadLatestMovies()">
          <mat-icon>new_releases</mat-icon>
          <span>Latest</span>
        </button>
        <button class="filter-tab" (click)="loadTopRated()">
          <mat-icon>star</mat-icon>
          <span>Top Rated</span>
        </button>
      </div>
    </div>

    <!-- Movies Grid -->
    <div class="movies-grid" *ngIf="movies.length > 0 && !isLoading">
      <app-movie-card 
        *ngFor="let movie of movies; trackBy: trackByMovieId" 
        [movie]="movie"
        (favorite)="addToFavorites($event)"
        (thumbsUp)="onThumbsUp($event)"
        (thumbsDown)="onThumbsDown($event)"
        (addToFolder)="onAddToFolder($event)"
        (play)="onPlayMovie($event)">
      </app-movie-card>
    </div>

    <!-- Loading State -->
    <div class="loading-container" *ngIf="isLoading">
      <div class="loading-spinner">
        <mat-spinner diameter="60"></mat-spinner>
        <p>Loading amazing movies...</p>
      </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="!isLoading && movies.length === 0">
      <mat-icon class="empty-icon">movie_filter</mat-icon>
      <h2>No Movies Found</h2>
      <p>Try adjusting your search or filters</p>
      <button mat-raised-button color="primary" (click)="loadPopularMovies()">
        Browse Popular Movies
      </button>
    </div>
  </main>
</div>
